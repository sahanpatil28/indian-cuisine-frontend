{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DishList=()=>{const[dishes,setDishes]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[searchTerm,setSearchTerm]=useState('');const[filteredDishes,setFilteredDishes]=useState([]);const itemsPerPage=5;// Pagination limit\nuseEffect(()=>{fetch(fetch('https://indian-cuisine-backend.onrender.com/dishes'))// Replace with your API endpoint\n.then(response=>response.json()).then(data=>{setDishes(data);setFilteredDishes(data);});},[]);// Handle filtering by search term\nuseEffect(()=>{const results=dishes.filter(dish=>dish.name.toLowerCase().includes(searchTerm.toLowerCase())||dish.state.toLowerCase().includes(searchTerm.toLowerCase())||dish.diet.toLowerCase().includes(searchTerm.toLowerCase()));setFilteredDishes(results);},[searchTerm,dishes]);// Pagination calculations\nconst indexOfLastItem=currentPage*itemsPerPage;const indexOfFirstItem=indexOfLastItem-itemsPerPage;const currentDishes=filteredDishes.slice(indexOfFirstItem,indexOfLastItem);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dish-list-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Flavors of India\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-bar\",type:\"text\",placeholder:\"Search dishes, ingredients, or states...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",children:\"\\uD83D\\uDD0D\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"styled-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Preparation Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cooking Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Diet\"}),/*#__PURE__*/_jsx(\"th\",{children:\"State\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentDishes.map(dish=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dish/\".concat(dish.name),className:\"dish-link\",children:dish.name})}),/*#__PURE__*/_jsxs(\"td\",{children:[dish.prep_time,\" mins\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[dish.cook_time,\" mins\"]}),/*#__PURE__*/_jsx(\"td\",{children:dish.diet}),/*#__PURE__*/_jsx(\"td\",{children:dish.state})]},dish.name))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pagination-pill prev\",disabled:currentPage===1,onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),children:\"\\u2B05 Prev\"}),Array.from({length:Math.ceil(filteredDishes.length/itemsPerPage)},(_,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"pagination-pill \".concat(currentPage===index+1?'active':''),onClick:()=>setCurrentPage(index+1),children:index+1},index)),/*#__PURE__*/_jsx(\"button\",{className:\"pagination-pill next\",disabled:currentPage===Math.ceil(filteredDishes.length/itemsPerPage),onClick:()=>setCurrentPage(prev=>Math.min(prev+1,Math.ceil(filteredDishes.length/itemsPerPage))),children:\"Next \\u27A1\"})]})]});};export default DishList;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","DishList","dishes","setDishes","currentPage","setCurrentPage","searchTerm","setSearchTerm","filteredDishes","setFilteredDishes","itemsPerPage","fetch","then","response","json","data","results","filter","dish","name","toLowerCase","includes","state","diet","indexOfLastItem","indexOfFirstItem","currentDishes","slice","children","className","type","placeholder","value","onChange","e","target","map","to","concat","prep_time","cook_time","disabled","onClick","prev","Math","max","Array","from","length","ceil","_","index","min"],"sources":["C:/Users/sahan/Documents/Projects/indian-cuisine-frontend/src/components/DishList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst DishList = () => {\r\n  const [dishes, setDishes] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredDishes, setFilteredDishes] = useState([]);\r\n\r\n  const itemsPerPage = 5; // Pagination limit\r\n\r\n  useEffect(() => {\r\n    fetch(fetch('https://indian-cuisine-backend.onrender.com/dishes')\r\n  ) // Replace with your API endpoint\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setDishes(data);\r\n        setFilteredDishes(data);\r\n      });\r\n  }, []);\r\n\r\n  // Handle filtering by search term\r\n  useEffect(() => {\r\n    const results = dishes.filter(\r\n      (dish) =>\r\n        dish.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        dish.state.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        dish.diet.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setFilteredDishes(results);\r\n  }, [searchTerm, dishes]);\r\n\r\n  // Pagination calculations\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const currentDishes = filteredDishes.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n  return (\r\n    <div>\r\n   <div className=\"dish-list-header\">\r\n  <h1>Flavors of India</h1>\r\n  <div className=\"search-container\">\r\n    <input\r\n      className=\"search-bar\"\r\n      type=\"text\"\r\n      placeholder=\"Search dishes, ingredients, or states...\"\r\n      value={searchTerm}\r\n      onChange={(e) => setSearchTerm(e.target.value)}\r\n    />\r\n    <button className=\"search-button\">üîç</button>\r\n  </div>\r\n</div>\r\n\r\n<div className=\"table-container\">\r\n  <table className=\"styled-table\">\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Preparation Time</th>\r\n        <th>Cooking Time</th>\r\n        <th>Diet</th>\r\n        <th>State</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {currentDishes.map((dish) => (\r\n        <tr key={dish.name}>\r\n          <td>\r\n            <Link to={`/dish/${dish.name}`} className=\"dish-link\">\r\n              {dish.name}\r\n            </Link>\r\n          </td>\r\n          <td>{dish.prep_time} mins</td>\r\n          <td>{dish.cook_time} mins</td>\r\n          <td>{dish.diet}</td>\r\n          <td>{dish.state}</td>\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<div className=\"pagination-wrapper\">\r\n  <button\r\n    className=\"pagination-pill prev\"\r\n    disabled={currentPage === 1}\r\n    onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n  >\r\n    ‚¨Ö Prev\r\n  </button>\r\n\r\n  {Array.from(\r\n    { length: Math.ceil(filteredDishes.length / itemsPerPage) },\r\n    (_, index) => (\r\n      <button\r\n        key={index}\r\n        className={`pagination-pill ${\r\n          currentPage === index + 1 ? 'active' : ''\r\n        }`}\r\n        onClick={() => setCurrentPage(index + 1)}\r\n      >\r\n        {index + 1}\r\n      </button>\r\n    )\r\n  )}\r\n\r\n  <button\r\n    className=\"pagination-pill next\"\r\n    disabled={currentPage === Math.ceil(filteredDishes.length / itemsPerPage)}\r\n    onClick={() =>\r\n      setCurrentPage((prev) =>\r\n        Math.min(prev + 1, Math.ceil(filteredDishes.length / itemsPerPage))\r\n      )\r\n    }\r\n  >\r\n    Next ‚û°\r\n  </button>\r\n</div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DishList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}